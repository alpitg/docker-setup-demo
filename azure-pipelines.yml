trigger:
  - master
pool:
  vmImage: 'ubuntu-latest'

stages:

  - stage: Build
    jobs:
      - job: npmInstall
        steps:
          - bash: echo "npm install"
          - task: Npm@1
            inputs:
              command: 'install'

      - job: npmPublish
        steps:
          - task: ArchiveFiles@2
            inputs:
              rootFolderOrFile: '$(Build.BinariesDirectory)'
              includeRootFolder: true
              archiveType: 'zip'
              archiveFile: '$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip'
              replaceExistingArchive: true

  - stage: QA
    dependsOn: Build
    jobs: 
      - job: A

  - stage: UAT
    dependsOn: Build
    jobs:
      - job: A
      - job: B


